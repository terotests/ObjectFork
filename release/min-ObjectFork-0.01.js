(function(){var t={},n=function(){!function(t){t.commit=function(t){if(t.__master){var n=this,e=t.__master;Object.keys(t).forEach(function(i){if(t[i]instanceof Array||"object"==typeof t[i]){if(e[i])return n.merge(t[i]);e[i]=t[i]}else e[i]=t[i]})}},t.fork=function(t){var n=t||this._root,e=function(){};e.prototype=n;var i=new e,r=this,o={};return Object.keys(n).forEach(function(t){(n[t]instanceof Array||"object"==typeof n[t])&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]?o[t]:n[t]?(o[t]=r.fork(n[t]),o[t]):null},set:function(n){o[t]=n}})}),Object.defineProperty(i,"__master",{enumerable:!1,get:function(){return n},set:function(){}}),i},t.__traitInit&&!t.hasOwnProperty("__traitInit")&&(t.__traitInit=t.__traitInit.slice()),t.__traitInit||(t.__traitInit=[]),t.__traitInit.push(function(t){this._root=t}),t.merge=function(t){if(t.__master){var n=this,e=t.__master;Object.keys(t).forEach(function(i){if(t[i]instanceof Array||"object"==typeof t[i]){if(e[i])return n.merge(t[i]);e[i]=t[i]}else e[i]=t[i]})}}}(this)},e=function(t,n,i,r,o,f,c,a){var u,s=this;if(!(s instanceof e))return new e(t,n,i,r,o,f,c,a);var _=[t,n,i,r,o,f,c,a];if(s.__factoryClass)if(s.__factoryClass.forEach(function(t){u=t.apply(s,_)}),"function"==typeof u){if(u._classInfo.name!=e._classInfo.name)return new u(t,n,i,r,o,f,c,a)}else if(u)return u;s.__traitInit?s.__traitInit.forEach(function(t){t.apply(s,_)}):"function"==typeof s.init&&s.init.apply(s,_)};e._classInfo={name:"ObjectFork"},e.prototype=new n,function(){"undefined"!=typeof define&&null!==define&&null!=define.amd?(t.ObjectFork=e,this.ObjectFork=e):"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports.ObjectFork=e:this.ObjectFork=e}.call(new Function("return this")()),"undefined"!=typeof define&&null!==define&&null!=define.amd&&define(t)}).call(new Function("return this")());